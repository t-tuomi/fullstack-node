{"version":3,"sources":["services/persons.js","components/Filter.js","components/AddPerson.js","components/Person.js","components/ShowPersons.js","components/Notification.js","App.js","index.js"],"names":["baseUrl","axios","get","then","response","data","newObject","console","log","request","post","r","id","put","delete","Filter","props","value","onChange","eventHandler","AddPerson","useState","newName","setNewName","newNumber","setNewNumber","onSubmit","event","preventDefault","persons","find","p","name","number","message","level","setTimeout","window","confirm","onUpdatePerson","onAddPerson","target","type","Person","aPerson","onClick","deletePerson","ShowPersons","filter","personService","setPersons","match","RegExp","filterStr","map","i","key","Notification","color","error","errorStyle","backGround","fontSize","borderStyle","padding","marginBottom","style","App","setFilterStr","errorMessage","setErrorMessage","useEffect","allPersons","newPerson","concat","updatedPerson","person","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.5bd80af5.chunk.js","sourcesContent":["import axios from 'axios'\r\n//const baseUrl = 'https://pacific-scrubland-25586.herokuapp.com/api/persons'\r\n//const baseUrl = 'http://localhost:3001/api/persons'\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n  const request = axios.get(baseUrl)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst create = newObject => {\r\n  console.log(\"newobject\", newObject)\r\n  const request = axios.post(baseUrl, newObject)\r\n  console.log('on postattu')\r\n  return request.then(response =>  {\r\n    console.log('returning', response.data) \r\n    return response.data\r\n  }, (r) => console.log('createssa rejected', r))\r\n}\r\n\r\nconst update = (id, newObject) => {\r\n  const request = axios.put(`${baseUrl}/${id}`, newObject)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst deletePerson = id => {\r\n    const request = axios.delete(`${baseUrl}/${id}`)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nexport default { getAll, create, update, deletePerson }","\r\nimport React from 'react'\r\n\r\nconst Filter = (props) => {\r\n\r\n    return (\r\n        <div>\r\n            FIlter names with:<br />\r\n            <input\r\n                value={props.value}\r\n                onChange={props.eventHandler}\r\n            />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Filter\r\n","import React, { useState } from 'react'\r\n\r\nconst AddPerson = (props) => {\r\n\r\n    const [newName, setNewName] = useState('add new person..')\r\n    const [newNumber, setNewNumber] = useState('number..')\r\n\r\n    const addOrUpdate = (event) => {\r\n        event.preventDefault()\r\n        const persons = props.persons\r\n        console.log('add or update')\r\n        if (persons.find(p => p.name === newName && p.number === newNumber)) {\r\n            props.message({level: 'WARN', message: newName + ' with number ' + newNumber + '  is already on the book'})\r\n            setTimeout(() => props.message({level:'', message: null}), 5000)\r\n            //alert(`${newName} with number ${newNumber} is already on the book`)\r\n            return\r\n        }\r\n        if (persons.find(p => p.name === newName && p.number !== newNumber)) {\r\n            if (!window.confirm(`Update ${newName} with number ${newNumber} ?`))\r\n                return\r\n            props.onUpdatePerson((persons.find(p => p.name === newName).id),\r\n                { name: newName, number: newNumber })\r\n            return\r\n        }\r\n        console.log('ees täällä??')\r\n        props.onAddPerson({ name: newName, number: newNumber })\r\n    }\r\n    return (\r\n        <div>\r\n            <h3>Add person or change number</h3>\r\n            {<form onSubmit={addOrUpdate}>\r\n                <div>\r\n                    name:\r\n                    <input\r\n                        value={newName}\r\n                        onChange={(event) => setNewName(event.target.value)}\r\n                    /><br />\r\n                    number:\r\n                    <input\r\n                        value={newNumber}\r\n                        onChange={(event) => setNewNumber(event.target.value)}\r\n                    />\r\n                </div>\r\n                <div>\r\n                    <button type=\"submit\">add</button>\r\n                </div>\r\n            </form>}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default AddPerson\r\n\r\n","import React from 'react'\r\n\r\nconst Person = (props) => {\r\n    return (\r\n        <div>\r\n            {props.aPerson.name} {props.aPerson.number} \r\n            <button\r\n                onClick={() => props.deletePerson(props.aPerson.id)}>\r\n                delete\r\n                </button>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Person\r\n\r\n","import React from 'react'\r\nimport Person from './Person'\r\nimport personService from '../services/persons'\r\n\r\n\r\nconst ShowPersons = (props) => {\r\n    console.log('props', props)\r\n\r\n    const deletePerson = (id) => {\r\n\r\n        // console.log(`deleting id ${id}`)\r\n        console.log(\"propsit\", props)\r\n        //     .filter(p => p.i !== id                 ))\r\n        if (!window.confirm(`really delete ${(props.persons.filter(p => p.id === id))[0].name}`))\r\n            return\r\n        personService\r\n            .deletePerson(id)\r\n            .then(p => props.setPersons(props.persons\r\n                .filter(p => console.log(p.id, id) || p.id !== id)))\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <h3>Numbers</h3>\r\n            { \r\n            props.persons\r\n                .filter(p => p.name.match(new RegExp(props.filterStr, 'i')))\r\n                .map((p, i) =>\r\n                    <Person\r\n                        key={p.name}\r\n                        aPerson={p}\r\n                        deletePerson={deletePerson}\r\n                    />\r\n                )\r\n            }\r\n        </div>\r\n    )\r\n\r\n}\r\n//toggleImportance={() => toggleImportanceOf(note.id)}\r\n\r\n\r\nexport default ShowPersons\r\n\r\n// const AllPersons = (props) => {\r\n//    return (\r\n//         <div>\r\n//             {props.persons.filter((p) => p.name.match(new RegExp(props.filterStr, 'i')))\r\n//                 .map((p, i) => <Person key={p.name} aPerson={p} />)}\r\n//         </div>\r\n//     )\r\n// }","import React from 'react'\r\n\r\nconst Notification = ({ error }) => {\r\n\r\n    let color;\r\n    console.log(error.level, error.message)\r\n    switch (error.level) {\r\n        case 'INFO': color = 'green'\r\n            break\r\n        case 'WARN': color = 'orange'\r\n            break\r\n        case 'ERROR': color = 'red'\r\n            break\r\n        default: color = 'cyan'\r\n    }\r\n    const errorStyle = {\r\n        color: color,\r\n        backGround: 'lightgrey',\r\n        fontSize: 16,\r\n        borderStyle: 'solid',\r\n        padding: 10,\r\n        marginBottom: 10\r\n    }\r\n\r\n    if (error.message === null) {\r\n        return null\r\n    }\r\n\r\n    return (\r\n        <div style={errorStyle}>\r\n            {error.message}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Notification","import React, { useState, useEffect } from 'react'\r\n//import axios from 'axios'\r\nimport personService from './services/persons'\r\nimport Filter from './components/Filter'\r\nimport AddPerson from './components/AddPerson'\r\nimport ShowPersons from './components/ShowPersons'\r\nimport Notification from './components/Notification'\r\n\r\nconst App = () => {\r\n\r\n    const [persons, setPersons] = useState([])\r\n    const [filterStr, setFilterStr] = useState('')\r\n    const [errorMessage, setErrorMessage] = useState({level: 'INFO', message: 'some error happened...'})\r\n  \r\n\r\n\r\n    useEffect(() => {\r\n        personService\r\n            .getAll()\r\n            .then(allPersons => {\r\n                //console.log(\"ja täällä\", allPersons)\r\n                setPersons(allPersons)\r\n            }, (r) => console.log('hylätty>>>>>>>', r))\r\n    }, [])\r\n\r\n    const handleFilter = (event) => {\r\n        setFilterStr(event.target.value)\r\n    }\r\n\r\n    const addPerson = (newPerson) => {\r\n        console.log('add new person', newPerson)\r\n        personService\r\n            .create(newPerson)\r\n            .then((p) => \r\n            {\r\n                setPersons(persons.concat(p))\r\n                console.log(\"persons\", persons)\r\n            }, (r) => console.log('REJECTED', r))\r\n            .then(() => {\r\n                console.log('lisätty +++++++++++')\r\n                setErrorMessage({level: 'INFO', message: `${newPerson.name} successfuly added to book`})\r\n                setTimeout(() => {\r\n                    setErrorMessage({level: '', message: null})\r\n                }, 5000)\r\n            }, () => console.log('jälkimmäinen rejected'))\r\n    }\r\n\r\n    const updatePerson = (id, updatedPerson) => {\r\n        console.log('updating', id, updatedPerson)\r\n        personService\r\n            .update(id, updatedPerson)\r\n            .then(p => setPersons(persons\r\n                .map(person =>\r\n                    person.id !== id ? person : p)))\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <h2>Phonebook</h2>\r\n            <Notification error={errorMessage} />\r\n            <Filter\r\n                value={filterStr}\r\n                eventHandler={handleFilter}\r\n            />\r\n            <AddPerson\r\n                persons={persons}\r\n                onAddPerson={addPerson}\r\n                onUpdatePerson={updatePerson}\r\n                message={setErrorMessage}\r\n            />\r\n            <ShowPersons\r\n                persons={persons}\r\n                setPersons={setPersons}\r\n                filterStr={filterStr}\r\n            />\r\n        </div>\r\n    )\r\n\r\n}\r\n\r\nexport default App","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App.js'\n\n\n\n\nReactDOM.render(<App />, document.getElementById('root'))"],"sourceRoot":""}